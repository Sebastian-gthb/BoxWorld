10 CLS : WIDTH 20,16 : MEMSET &HB00 : DEFINT A-Z : OPTIONBASE 0 : DIM A(16,16)
20 LOCATE 6,0 : PRINT "Box World" : PRINT " by Jeng-Long Jiang"; : GOSUB800
30 PRINT "    HX-20 Version" : PRINT "by Sebastian Berger"; : GOSUB800
40 CLS : PRINT"Controls   ";CHR$(155);"W":PRINT"      <-A  ";CHR$(156);"S  D->"
50 PRINT"1,2,3,4=scroll ";CHR$(155);CHR$(156):PRINT"  R=reset";:GOSUB800
60 POKE &H11E,&HA : POKE &H11F,&H40
70 RESTORE900:FORI=&HA40 TO&HA6F:READJ$:J=VAL("&H"+J$):POKEI,J:NEXTI
80 REM FORI=0TO9:PRINTCHR$(224+I);:NEXTI
90 REM Level * 10 + 900 = line with map data
100 REM L=1:M=L*10+900:PRINTM:RESTORE M:READX+1:READY+1:READX1:READY1
101 L=1:RESTORE 910:READX:READY:READX1:READY1
110 FOR J=1 TO 16 : FOR I=1 TO 16 : A(I,J)=0 : NEXT I,J
120 FOR J=1 TO Y : FOR I=1 TO X : READ A(I,J) : NEXT I,J
130 CLS:FOR J=1 TO Y : FOR I=1 TO X : LOCATE I,J : PRINTCHR$(224+A(I,J)); : NEXT I,J
140 LOCATE X1,Y1:PRINTCHR$(154);
700 END
800 FORI=1TO28:J=I^2-56*(I^2\56):SOUNDJ,1:NEXTI:RETURN
900 DATA 00,00,00,00,00,00,00,00,00,00,00,00,00,42,24,18,24,42,00,FF,F9,BD,9F,FF
901 DATA 00,FF,87,C3,E1,FF,77,07,77,77,70,77,00,00,00,00,00,00,00,00,00,00,00,00
909 REM X-Size-1 of map, Y-Site-1 of map, X-Start of player, Y-Start of layer, map data 1=floor 2=target 3=box 4=box on target 5=wall
910 DATA 8,8,5,5,0,0,5,5,5,0,0,0,0,0,5,2,5,0,0,0,0,0,5,1,5,5,5,5,5,5,5,3,1,3,2,5
911 DATA 5,2,1,3,1,5,5,5,5,5,5,5,3,5,0,0,0,0,0,5,2,5,0,0,0,0,0,5,5,5,0,0
